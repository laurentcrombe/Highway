{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap aa5214adbaba9792fe49","webpack:///./src/highway/loader.js","webpack:///./src/highway/view.js","webpack:///./src/highway.js"],"names":["Loader","options","views","mode","onPopstate","popstate","bind","onPathChange","change","window","addEventListener","init","title","document","querySelector","innerHTML","view","name","getAttribute","path","location","pathname","stack","current","links","link","active","querySelectorAll","removeEventListener","temp","fetchCall","el","classname","HTMLActive","classList","remove","add","event","preventDefault","returnValue","currentTarget","target","open","update","history","pushState","fetch","then","response","text","result","fetchSuccess","catch","error","fetchError","redirect","page","createRange","createContextualFragment","Error","previous","unbind","load","unload","e","View","wrapper","onEnterCompleted","appendChild","removeChild","onEnter","append","Promise","resolve","reject","transition","in","analytics","onLeave","out","onLeaveCompleted","ga","Highway"],"mappings":"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","file":"highway.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Highway\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Highway\"] = factory();\n\telse\n\t\troot[\"Highway\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap aa5214adbaba9792fe49","/**\n * Highway - Loader File:\n * This file contains the methods handling the routing of your pages.\n * \n * @author: Anthodpnt <antho.dpnt@gmail.com>\n * @version: 1.0.0\n */\n\n\nclass Loader {\n  /**\n   * Constructor:\n   * Construct the Loader, initialise it and extract options.\n   * \n   * @param {object} options - The Options\n   */\n  constructor(options) {\n    // Options\n    this.views = options.views;\n    this.mode  = options.mode || 'out-in';\n\n    // Events\n    this.onPopstate   = this.popstate.bind(this);\n    this.onPathChange = this.change.bind(this);\n\n    // PopState\n    window.addEventListener('popstate', this.onPopstate);\n\n    // Init\n    this.bind();\n    this.init();\n  }\n\n\n  /**\n   * Initialisation:\n   * When landing on the website the first page does'nt pass through the loader\n   * so we need to initialise it as well as the attributes of our loader.\n   */\n  init() {\n    // Attributes\n    const title = document.querySelector('title').innerHTML;\n    const view  = document.querySelector('[loader-view]');\n    const name  = view.getAttribute('loader-view');\n\n    this.path  = window.location.pathname;\n    this.stack = {};\n    this.stack[this.path] = {\n      title: title,\n      view : view,\n      name : name,\n    };\n\n    // Load Current  \n    this.current = new this.views[name](this.stack[this.path]);\n    this.current.init();\n\n    // Active\n    for (let link of this.links) {\n      if (link.pathname === this.path) {\n        this.active(link);\n      }\n    }\n  }\n\n\n  /**\n   * Binding:\n   * We create events we bind on DOM elements.\n   */\n  bind() {\n    // Get Links\n    this.links = document.querySelectorAll('a:not([loader-disabled])');\n\n    // Add Events on DOM Links\n    for (let link of this.links) {\n      link.addEventListener('click', this.onPathChange);\n      link.addEventListener('touchstart', this.onPathChange);\n    }\n  }\n\n\n  /**\n   * Unbinding:\n   * We remove events we bound on DOM elements.\n   */\n  unbind() {\n    // Remove Events from DOM Links\n    for (let link of this.links) {\n      link.removeEventListener('click', this.onPathChange);\n      link.removeEventListener('touchstart', this.onPathChange);\n    }\n  }\n\n\n  /**\n   * Popstate:\n   * We fetch the path from the window location on `popstate` event\n   */\n  popstate() {\n    // Update Path\n    this.path = window.location.pathname;\n\n    // Active\n    for (let link of this.links) {\n      if (link.pathname === this.path) {\n        this.temp = link;\n      }\n    }\n\n    // Fetch Path\n    this.fetchCall();\n  }\n\n\n  /**\n   * Active:\n   * Set active classnames on elements and remove previous active classname.\n   * \n   * @param {object} el - The Element\n   */\n  active(el) {\n    const classname = el.getAttribute('loader-active');\n\n    if (classname) {\n      if (this.HTMLActive) {\n        const classname = this.HTMLActive.getAttribute('loader-active');\n        this.HTMLActive.classList.remove(classname);\n      }\n\n      this.HTMLActive = el;\n      this.HTMLActive.classList.add(classname);\n    }\n  }\n\n\n  /**\n   * Change:\n   * We check when path changes on link `click` event \n   * \n   * @param {object} event - The `click` Event\n   */\n  change(event) {\n    // Prevent event from firing\n    event = event || window.event;\n    if (event.preventDefault) {\n      event.preventDefault();\n    }\n    event.returnValue = false;\n    \n    // Attributes\n    const link   = event.currentTarget;\n    const path   = link.getAttribute('href');\n    const target = link.getAttribute('target');\n\n    // We check if the current link target should open in a new blank window.\n    // If the target is set to `_blank` the script stops otherwise it continues.\n    if (target === '_blank') {\n      // Open New Window\n      return window.open(path, '_blank');\n    }\n\n    // Save Link Temporary\n    this.temp = link;\n\n    // Update\n    this.update(path);\n  }\n\n\n  /**\n   * Update:\n   * We check when path updates.\n   * \n   * @param {string} path - The Path\n   */\n  update(path) {\n    // We check if the current link redirects to a different page than the\n    // displayed one. If the two pages are different the script continues\n    // otherwise the script stops.\n    if (path !== this.path) {\n      // Update Path\n      this.path = path;\n\n      // Push State in History\n      window.history.pushState({ path: this.path }, '', this.path);\n\n      // Fetch Path\n      this.fetchCall();\n    }\n  }\n\n\n  /**\n   * Fetch:\n   * We fetch the path.\n   */\n  fetchCall() {\n    // We check if the path has been cached and we fetch it if not.\n    if (!this.stack[this.path]) {\n      fetch(this.path)\n        .then((response) => response.text())\n        .then((result) => this.fetchSuccess(result))\n        .catch((error) => this.fetchError(error));\n      return;\n    }\n\n    // Redirect\n    this.redirect();\n  }\n\n\n  /**\n   * Fetch Sucess:\n   * We fetch update DOM on fetch success.\n   * \n   * @param {string} result - The Page HTML\n   */\n  fetchSuccess(result) {\n    // Update Attributes\n    const page  = document.createRange().createContextualFragment(result);\n    const title = page.querySelector('title').innerHTML;\n    const view  = page.querySelector('[loader-view]'); \n    const name  = view.getAttribute('loader-view');\n\n    // Update Stack\n    this.stack[this.path] = {\n      title: title,\n      view : view,\n      name : name,\n    };\n\n    // Redirect\n    this.redirect();\n  }\n\n\n  /**\n   * Fetch Error:\n   * We throw an error message on fetch error.\n   * \n   * @param {string} error - The Error\n   */\n  fetchError(error) {\n    throw Error(error);\n  }\n\n\n  /**\n   * Redirect:\n   * We update DOM with the page to display.\n   */\n  redirect() {\n    const { name } = this.stack[this.path];\n\n    // Update Previous/Current\n    this.previous = this.current;\n    this.current  = new this.views[name](this.stack[this.path]);\n\n    // Update Active\n    this.active(this.temp);\n\n    // Unbind Events\n    this.unbind();\n\n    // Load/Unload Views\n    switch (this.mode) {\n      // Both:\n      // Previous and current transitions run at the same time.\n      case 'both':\n        this.current.load();\n        this.previous.unload()\n          .then(() => this.bind())\n          .catch((e) => { \n            throw Error(e);\n          });\n        break;\n      \n      // In-Out:\n      // Previous transition runs after current transition is over.\n      case 'in-out':\n        this.current.load()\n          .then(() => this.previous.unload())\n          .then(() => this.bind())\n          .catch((e) => {\n            throw Error(e);\n          });\n        break;\n\n      // Out-In:\n      // Current transition runs after previous transition is over (default).\n      default:\n        this.previous.unload()\n          .then(() => this.current.load())\n          .then(() => this.bind())\n          .catch((e) => {\n            throw Error(e);\n          });\n    }\n  }\n}\n\n// Export Class\nexport default Loader;\n\n\n\n// WEBPACK FOOTER //\n// ./src/highway/loader.js","/**\n * Highway - View File:\n * This file contains the methods handling the display of your pages.\n * \n * @author: Anthodpnt <antho.dpnt@gmail.com>\n * @version: 1.0.0\n */\n\n\nclass View {\n  /**\n   * Constructor:\n   * Construct the View, get the `loader-wrapper` and extract options.\n   * \n   * @param {object} options - The options\n   */\n  constructor(options) {\n    // Wrapper\n    this.wrapper = document.querySelector('[loader-wrapper]');\n\n    // Options\n    this.title = options.title;\n    this.view = options.view;\n  }\n\n\n  /**\n   * Initialisation:\n   * We call the enter completed method. This is usefull for the landing page\n   * that does not pass through the loader.\n   */\n  init() {\n    // Enter Completed\n    if (this.onEnterCompleted) {\n      this.onEnterCompleted();\n    }\n  }\n\n\n  /**\n   * Append:\n   * We append the view content to the `loader-wrapper` and we update the page\n   * title. \n   */\n  append() {\n    // Update Title\n    document.title = this.title;\n\n    // Append\n    this.wrapper.appendChild(this.view);\n  }\n\n\n  /**\n   * Remove:\n   * We remove the view content from the `loader-wrapper`.\n   */\n  remove() {\n    // Remove\n    this.wrapper.removeChild(this.view);\n  }\n\n\n  /**\n   * Load:\n   * We load the view content and call the transition `in`. Analytics are \n   * updated as well if the GA script has been setup.\n   */\n  load() {\n    // Enter\n    if (this.onEnter) {\n      this.onEnter();\n    }\n\n    // Append\n    this.append();\n\n    // Promise for Async methods\n    return new Promise((resolve, reject) => {\n      // Transition\n      this.transition.in(this.view, () => {\n        // Resolve\n        resolve();\n\n        // Send GA\n        this.analytics();\n\n        // Enter Completed\n        if (this.onEnterCompleted) {\n          this.onEnterCompleted();\n        }\n      });\n    });\n  }\n\n\n  /**\n   * Unload:\n   * We unload the view content and call the transition `out`.\n   */\n  unload() {\n    // Leave\n    if (this.onLeave) {\n      this.onLeave();\n    }\n\n    // Promise for Async methods\n    return new Promise((resolve, reject) => {\n      // Transition\n      this.transition.out(this.view, () => {\n        // Resolve\n        resolve();\n\n        // Remove\n        this.remove();\n\n        // Leave Completed\n        if (this.onLeaveCompleted) {\n          this.onLeaveCompleted();\n        }\n      });\n    });\n  }\n\n\n  /**\n   * Analytics:\n   * We update GA if the script has been setup.\n   */\n  analytics() {\n    // Send Page View to GA\n    if (typeof ga !== 'undefined') {\n      ga('set', { page: window.location.pathname, title: document.title });\n      ga('send', 'pageview');\n    }\n  }\n}\n\n\n// Export Class\nexport default View;\n\n\n\n// WEBPACK FOOTER //\n// ./src/highway/view.js","/**\n * Highway - Main File:\n * This file requires the requested files for Highway.\n * \n * @author: Anthodpnt <antho.dpnt@gmail.com>\n * @version: 1.0.0\n */\n\n\nimport View from './highway/view';\nimport Loader from './highway/loader';\n\nconst Highway = { \n  View  : View,\n  Loader: Loader,\n};\n\nexport default Highway;\n\n\n// WEBPACK FOOTER //\n// ./src/highway.js"],"sourceRoot":""}